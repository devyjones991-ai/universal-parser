# üîå API & Integrations - Universal Parser

## –û–±–∑–æ—Ä

–ú–æ–¥—É–ª—å API & Integrations –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –≤–∫–ª—é—á–∞—è webhook'–∏, GraphQL API, WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, rate limiting –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API.

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### üîó Webhook —Å–∏—Å—Ç–µ–º–∞
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ webhook'–∞–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ endpoints
- **–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è** - 15+ —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤, –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- **–ù–∞–¥–µ–∂–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏, —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
- **–ü–æ–¥–ø–∏—Å—å –∑–∞–ø—Ä–æ—Å–æ–≤** - HMAC SHA-256 –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç–∞–≤–∫–∏** - —Å—Ç–∞—Ç—É—Å—ã, –ª–æ–≥–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### üìä GraphQL API
- **–ì–∏–±–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Real-time –ø–æ–¥–ø–∏—Å–∫–∏** - WebSocket –¥–ª—è live –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **–ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **Playground** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - N+1 –∑–∞–ø—Ä–æ—Å—ã, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### üåê WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–ö–æ–º–Ω–∞—Ç—ã** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ø–æ —Ç–µ–º–∞–º
- **–ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è** - –≤—ã–±–æ—Ä–æ—á–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—ã—Å—è—á —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **Heartbeat** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### ‚ö° Rate Limiting
- **Sliding window** - —Ç–æ—á–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã** - –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, IP, —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º
- **Burst protection** - –∑–∞—â–∏—Ç–∞ –æ—Ç –≤—Å–ø–ª–µ—Å–∫–æ–≤ —Ç—Ä–∞—Ñ–∏–∫–∞
- **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** - —Ä–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö API
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤

### üìà API –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º** - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫** - —Ç–∏–ø—ã, —á–∞—Å—Ç–æ—Ç–∞, –ø—Ä–∏—á–∏–Ω—ã
- **Prometheus –º–µ—Ç—Ä–∏–∫–∏** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
- **Real-time –¥–∞—à–±–æ—Ä–¥** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## Webhook —Å–∏—Å—Ç–µ–º–∞

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è
```json
{
  "item.created": "–¢–æ–≤–∞—Ä —Å–æ–∑–¥–∞–Ω",
  "item.updated": "–¢–æ–≤–∞—Ä –æ–±–Ω–æ–≤–ª–µ–Ω", 
  "item.deleted": "–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω",
  "price.changed": "–¶–µ–Ω–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å",
  "user.registered": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω",
  "user.subscribed": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–ø–∏—Å–∞–ª—Å—è",
  "payment.received": "–ü–ª–∞—Ç–µ–∂ –ø–æ–ª—É—á–µ–Ω",
  "parsing.started": "–ü–∞—Ä—Å–∏–Ω–≥ –Ω–∞—á–∞—Ç",
  "parsing.completed": "–ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω",
  "parsing.failed": "–ü–∞—Ä—Å–∏–Ω–≥ –Ω–µ —É–¥–∞–ª—Å—è",
  "analytics.generated": "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞",
  "report.scheduled": "–û—Ç—á–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω",
  "social.post_created": "–°–æ—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ—Å—Ç —Å–æ–∑–¥–∞–Ω",
  "achievement.unlocked": "–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ"
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ webhook endpoint
```bash
curl -X POST "http://localhost:8000/api/v1/webhooks/endpoints" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "url": "https://your-app.com/webhook",
    "events": ["item.created", "price.changed"],
    "secret": "your-webhook-secret",
    "retry_count": 3,
    "timeout": 30
  }'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ webhook
```python
import hmac
import hashlib

def verify_webhook_signature(payload, signature, secret, timestamp):
    message = f"{timestamp}.{payload}"
    expected_signature = hmac.new(
        secret.encode('utf-8'),
        message.encode('utf-8'),
        hashlib.sha256
    ).hexdigest()
    return hmac.compare_digest(signature, f"sha256={expected_signature}")
```

## GraphQL API

### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```graphql
# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä—ã
query GetItems {
  items(first: 10) {
    edges {
      node {
        id
        name
        marketplace
        price
        currentPrice
        priceChangePercent
      }
    }
  }
}

# –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤
query SearchItems {
  searchItems(query: "iPhone") {
    id
    name
    price
    marketplace
    marketplaceDisplayName
  }
}

# –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
query GetAnalytics {
  analyticsOverview {
    totalItems
    totalUsers
    totalRevenue
    averageResponseTime
    errorRate
  }
}

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
mutation CreateItem {
  createItem(input: {
    name: "Test Item"
    marketplace: "wildberries"
    category: "electronics"
    price: 1000.0
  }) {
    id
    name
    price
  }
}

# –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
subscription ItemUpdated {
  itemUpdated(itemId: "item-id") {
    id
    name
    price
    updatedAt
  }
}
```

### GraphQL Playground
- **URL**: `http://localhost:8000/api/v1/graphql`
- **–ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è**: `http://localhost:8000/api/v1/graphql/schema`
- **–ú–µ—Ç—Ä–∏–∫–∏**: `http://localhost:8000/api/v1/graphql/health`

## WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```javascript
const ws = new WebSocket('ws://localhost:8000/api/v1/websocket/ws?user_id=123');

ws.onopen = function() {
    console.log('WebSocket connected');
    
    // –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è
    ws.send(JSON.stringify({
        type: 'subscribe',
        events: ['item.updated', 'price.changed']
    }));
    
    // –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ
    ws.send(JSON.stringify({
        type: 'join_room',
        room_id: 'marketplace_updates'
    }));
};

ws.onmessage = function(event) {
    const message = JSON.parse(event.data);
    console.log('Received:', message);
};
```

### –¢–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π
```json
{
  "type": "item.updated",
  "data": {
    "id": "item-123",
    "name": "iPhone 15",
    "price": 999.99,
    "old_price": 1099.99
  },
  "timestamp": "2024-01-01T12:00:00Z",
  "user_id": "user-123",
  "room": "marketplace_updates"
}
```

## Rate Limiting

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–º–∏—Ç–æ–≤
```python
RATE_LIMITS = {
    "global": {"requests": 1000, "window": 3600},  # 1000/—á–∞—Å
    "api": {"requests": 100, "window": 60},        # 100/–º–∏–Ω—É—Ç—É
    "auth": {"requests": 10, "window": 60},        # 10/–º–∏–Ω—É—Ç—É
    "parsing": {"requests": 50, "window": 60},     # 50/–º–∏–Ω—É—Ç—É
    "webhook": {"requests": 1000, "window": 60},   # 1000/–º–∏–Ω—É—Ç—É
    "user": {"requests": 1000, "window": 3600},    # 1000/—á–∞—Å
    "ip": {"requests": 500, "window": 3600}        # 500/—á–∞—Å
}
```

### –ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
```http
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1640995200
Retry-After: 60
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
```python
from app.core.rate_limiting import check_api_rate_limit

is_allowed, rate_limit_info = await check_api_rate_limit(
    request=request,
    limit_name="api",
    user_id="user-123"
)

if not is_allowed:
    return JSONResponse(
        status_code=429,
        content={"error": "Rate limit exceeded"},
        headers=rate_limit_middleware.get_rate_limit_headers(rate_limit_info)
    )
```

## API –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl "http://localhost:8000/api/v1/analytics/usage?start_time=2024-01-01T00:00:00Z"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
curl "http://localhost:8000/api/v1/analytics/endpoints/items/stats"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl "http://localhost:8000/api/v1/analytics/users/user-123/stats"

# Rate limit —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl "http://localhost:8000/api/v1/analytics/rate-limits"

# Prometheus –º–µ—Ç—Ä–∏–∫–∏
curl "http://localhost:8000/api/v1/analytics/metrics"
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞
```json
{
  "total_requests": 15420,
  "unique_users": 1250,
  "unique_ips": 890,
  "average_response_time": 0.245,
  "error_rate": 2.1,
  "top_endpoints": [
    {"endpoint": "GET /api/v1/items", "count": 5420},
    {"endpoint": "POST /api/v1/parsing", "count": 2100}
  ],
  "top_users": [
    {"user_id": "user-123", "count": 450},
    {"user_id": "user-456", "count": 380}
  ],
  "hourly_requests": [
    {"hour": "2024-01-01 10:00", "count": 120},
    {"hour": "2024-01-01 11:00", "count": 150}
  ]
}
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –í–Ω–µ—à–Ω–∏–µ API
- **Google Analytics** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- **Facebook Pixel** - –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∏ —Ä–µ—Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥
- **Telegram Bot** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Slack** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
- **Discord** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º–∏
- **Zapier** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è workflows
- **IFTTT** - –ø—Ä–æ—Å—Ç—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ü–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã
- **Stripe** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π
- **PayPal** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
- **YooKassa** - —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –ø–ª–∞—Ç–µ–∂–∏
- **Tinkoff** - –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
- **QIWI** - —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–∏

### –û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **AWS S3** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- **Google Cloud Storage** - —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Azure Blob** - –º—É–ª—å—Ç–∏–æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- **CloudFlare** - CDN –∏ –∑–∞—â–∏—Ç–∞
- **Redis Cloud** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–µ—Ç—Ä–∏–∫–∏
- **–ó–∞–ø—Ä–æ—Å—ã –≤ —Å–µ–∫—É–Ω–¥—É** - RPS
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞** - latency (p50, p95, p99)
- **–ü—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫** - error rate
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** - uptime
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** - throughput

### –õ–æ–≥–∏
```python
import logging

logger = logging.getLogger("api")
logger.info(f"API request: {method} {path} - {status_code} - {response_time}ms")
logger.error(f"API error: {error} - {traceback}")
logger.warning(f"Rate limit hit: {user_id} - {limit_name}")
```

### –ê–ª–µ—Ä—Ç—ã
- **–í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫** - >5%
- **–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - >1 —Å–µ–∫—É–Ω–¥—ã
- **–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤** - >1000/—á–∞—Å
- **–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞** - <99%
- **–ê–Ω–æ–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - >10x –æ–±—ã—á–Ω–æ–≥–æ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **JWT —Ç–æ–∫–µ–Ω—ã** - stateless –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **OAuth 2.0** - –≤–Ω–µ—à–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- **API –∫–ª—é—á–∏** - –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
- **Webhook –ø–æ–¥–ø–∏—Å–∏** - HMAC SHA-256

### –ó–∞—â–∏—Ç–∞
- **Rate limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS
- **CORS** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–æ–≤
- **HTTPS** - —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è** - –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –ê—É–¥–∏—Ç
- **–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞** - –∫—Ç–æ –∏ –∫–æ–≥–¥–∞
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö** - —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
- **–ü–æ–ø—ã—Ç–∫–∏ –≤–∑–ª–æ–º–∞** - –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** - GDPR, PCI DSS

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - Redis –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ò–Ω–¥–µ–∫—Å—ã –ë–î** - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–°–∂–∞—Ç–∏–µ** - gzip –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤
- **CDN** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ** - –±–æ–ª—å—à–µ —Å–µ—Ä–≤–µ—Ä–æ–≤
- **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ** - –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î
- **–û—á–µ—Ä–µ–¥–∏** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **APM** - Application Performance Monitoring
- **–õ–æ–≥–∏** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ú–µ—Ç—Ä–∏–∫–∏** - Prometheus + Grafana
- **–¢—Ä–µ–π—Å–∏–Ω–≥** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞
- **–ê–ª–µ—Ä—Ç—ã** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker
```bash
# –ó–∞–ø—É—Å–∫ —Å API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook'–æ–≤
docker exec -it universal-parser python -m app.services.webhook_service

# –¢–µ—Å—Ç GraphQL
curl "http://localhost:8000/api/v1/graphql/health"
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```yaml
# docker-compose.yml
services:
  api:
    environment:
      - WEBHOOK_SECRET=your-webhook-secret
      - RATE_LIMIT_REDIS_URL=redis://redis:6379
      - GRAPHQL_PLAYGROUND=true
      - WEBSOCKET_HEARTBEAT=30
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
curl "http://localhost:8000/api/v1/analytics/health"

# –ú–µ—Ç—Ä–∏–∫–∏ Prometheus
curl "http://localhost:8000/api/v1/analytics/metrics"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ WebSocket
curl "http://localhost:8000/api/v1/websocket/connections"
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API.

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.
